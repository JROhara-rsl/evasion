import{u as v,r as i,j as t,b as N,L as d,N as y,s as m}from"./index-ON0DWy5i.js";import{f as h}from"./functionActualite-CmQu_hVt.js";import{I as A}from"./ItemArticle-BHBrOmll.js";const S=()=>{const u=v(),{id:c}=u,[e,x]=i.useState([]),[p,j]=i.useState([]),[n,g]=i.useState();return i.useEffect(()=>{(async()=>{try{const{data:s,status:r,error:f}=await m.from("articles").select("*"),l=s.filter(o=>o.id==c);r===200&&x(l[0]),r===200&&g(l[0].category_article)}catch(s){console.log("Error fetching: ",s)}})()},[c]),i.useEffect(()=>{(async()=>{try{const{data:s,status:r,error:f}=await m.from("articles").select("*").in("category_article",[n]).neq("id",c).limit(3),l=s.filter(o=>o.category_article===n);r===200&&j(l)}catch(s){console.log("Error fetching: ",s)}})()},[c,n]),t.jsxs("div",{children:[t.jsx("title",{children:e?e.title:"L'Actualité pour s'évader avec Évasion"}),t.jsx("meta",{name:"description",content:e?e.chapeau:"Toute l'actualité pour s'évader avec Évasion"}),t.jsx("section",{id:"container-post-article",className:"container-dark",children:t.jsxs("div",{className:"container",children:[e&&t.jsxs("div",{id:"link-breadcrumb",children:[t.jsx(N,{name:"Retour à la page d'accueil",lien:"/",img:"../../../public/assets/picto/picto-back.svg"}),t.jsx(d,{to:"/",children:"Évasion"}),"/",t.jsx(d,{to:"/actualite",children:"Actualité"}),"/",t.jsx(d,{to:h.urlArticle(e.title,e.id),children:e.title})]}),t.jsxs("div",{className:"container-grid",children:[e&&t.jsx("div",{id:"container-post-article",className:"grid6 container-white",children:t.jsxs("div",{className:"container-article grid4",children:[t.jsx("div",{className:"container-image",children:t.jsx("img",{src:"http://localhost:5173"+e.image+"-1000px.jpg",alt:e.title})}),t.jsxs("span",{className:"meta",children:[e.date," / ",e.category_article]}),t.jsx("h1",{className:"title-X",children:e.title}),t.jsx("div",{className:"chapeau",children:e.chapeau}),t.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e.content}}),t.jsx("span",{className:"author",children:e.author})]})},e.uuid),t.jsxs("div",{id:"container-item-articles",className:"grid3",children:[t.jsx("h3",{children:"Actualité"}),t.jsx("div",{className:"container-post-item",children:p.map(a=>t.jsx(A,{id:a.id,title:a.title,lien:h.urlArticle(a.title,a.id),date:a.date,category:a.category_article,image:a.image,chapeau:a.chapeau},a.id))})]})]})]})}),t.jsx(y,{})]})};export{S as default};
